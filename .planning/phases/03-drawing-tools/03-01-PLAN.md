---
phase: 03-drawing-tools
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/components/Canvas/styleConfig.ts
  - frontend/src/main.tsx
autonomous: true

must_haves:
  truths:
    - "User can select from at least 8 distinct colors before drawing"
    - "User can choose between at least 3 stroke widths that are visibly different"
    - "Color and stroke changes affect newly drawn shapes immediately"
  artifacts:
    - path: "frontend/src/components/Canvas/styleConfig.ts"
      provides: "Global tldraw style configuration"
      exports: ["configureStyles"]
    - path: "frontend/src/main.tsx"
      provides: "Style initialization before React render"
      contains: "configureStyles"
  key_links:
    - from: "frontend/src/main.tsx"
      to: "frontend/src/components/Canvas/styleConfig.ts"
      via: "import and call configureStyles()"
      pattern: "import.*styleConfig.*configureStyles"
---

<objective>
Configure tldraw's global style constants for custom stroke widths and color palette.

Purpose: tldraw's default stroke widths (1/2/4/8px) need adjustment to ~2/~6/~12px per CONTEXT.md. Color palette needs 12+ colors combining professional (black, blue, red, green) with vibrant saturated options.

Output: styleConfig.ts that mutates STROKE_SIZES and DefaultColorThemePalette, imported in main.tsx before React renders.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-drawing-tools/03-RESEARCH.md
@frontend/src/main.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create styleConfig.ts with custom widths and colors</name>
  <files>frontend/src/components/Canvas/styleConfig.ts</files>
  <action>
Create styleConfig.ts that exports a configureStyles() function.

**Stroke widths** (mutate STROKE_SIZES from 'tldraw'):
- STROKE_SIZES.s = 2   (thin)
- STROKE_SIZES.m = 6   (medium)
- STROKE_SIZES.l = 12  (thick)
- STROKE_SIZES.xl = 18 (extra thick - bonus option)

**Color palette** (mutate DefaultColorThemePalette.lightMode from 'tldraw'):

Professional colors:
- black.solid = '#1a1a2e' (dark navy-black)
- grey.solid = '#6b7280' (neutral grey)
- white.solid = '#ffffff' (pure white)
- blue.solid = '#2563eb' (royal blue)
- red.solid = '#dc2626' (standard red)
- green.solid = '#16a34a' (forest green)

Vibrant saturated:
- orange.solid = '#f97316' (bright orange)
- yellow.solid = '#eab308' (golden yellow)
- violet.solid = '#8b5cf6' (purple)

Additional slots (reuse light-* colors):
- light-blue.solid = '#06b6d4' (cyan/teal)
- light-green.solid = '#84cc16' (lime green)
- light-red.solid = '#ec4899' (pink/magenta)
- light-violet.solid = '#a855f7' (lighter purple)

Total: 13 colors (exceeds 12+ requirement).

The function must be called BEFORE any Tldraw component mounts. Export the function, do not call it at module level.
  </action>
  <verify>
- File exists at frontend/src/components/Canvas/styleConfig.ts
- Exports configureStyles function
- Imports STROKE_SIZES and DefaultColorThemePalette from 'tldraw'
- TypeScript compiles: `cd frontend && npx tsc --noEmit`
  </verify>
  <done>styleConfig.ts exists with configureStyles() that sets 4 stroke widths and 13 colors</done>
</task>

<task type="auto">
  <name>Task 2: Import and call configureStyles in main.tsx</name>
  <files>frontend/src/main.tsx</files>
  <action>
Add import and call configureStyles() at the TOP of main.tsx, BEFORE React imports if possible, but definitely BEFORE any React components render.

```typescript
// Style configuration must run before tldraw components mount
import { configureStyles } from './components/Canvas/styleConfig'
configureStyles()

// Then existing React imports and render
import { StrictMode } from 'react'
// ...rest of main.tsx
```

This ensures the style mutations happen before tldraw reads its constants.
  </action>
  <verify>
- main.tsx imports configureStyles from styleConfig
- configureStyles() is called before createRoot/render
- App still starts: `cd frontend && npm run dev` (check no console errors)
  </verify>
  <done>main.tsx calls configureStyles() before React render, app starts without errors</done>
</task>

</tasks>

<verification>
1. TypeScript compiles: `cd frontend && npx tsc --noEmit` passes
2. Dev server starts: `cd frontend && npm run dev` shows no errors
3. Style config runs: No console errors about tldraw style constants
</verification>

<success_criteria>
- styleConfig.ts exists with configureStyles() function
- main.tsx imports and calls configureStyles() before render
- TypeScript compiles without errors
- Dev server starts without errors
- Ready for visual verification in Plan 03 (with toolbar)
</success_criteria>

<output>
After completion, create `.planning/phases/03-drawing-tools/03-01-SUMMARY.md`
</output>
